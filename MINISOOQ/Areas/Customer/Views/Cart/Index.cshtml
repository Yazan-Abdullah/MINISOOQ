@model MINISOOQ.Models.ViewModels.ShoppingCartVM

<section class="breadcrumb">
    <ul class="breadcrumb__list flex container">
        <li><a href="index.html" class="breadcrumb__link">Home</a></li>
        <li><span class="breadcrumb__link"></span>></li>
        <li><span class="breadcrumb__link">Shop</span></li>
        <li><span class="breadcrumb__link"></span>></li>
        <li><span class="breadcrumb__link">Cart</span></li>
    </ul>
</section>

<!--=============== CART ===============-->
<section class="cart section--lg container">
    <div class="table__container">
        <table class="table">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Subtotal</th>
                    <th>Rename</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.ListCart)
                {
                    <tr>
                        <td>
                            <img src="@((item.Product?.Images?.FirstOrDefault()?.Url) ?? "default-image.jpg")"
                                 alt=""
                                 class="table__img" />
                        </td>
                        <td>
                            <h3 class="table__title">
                                @item.Product?.Title
                            </h3>
                            <p class="table__description">
                                @item.Product.Description
                            </p>
                        </td>
                        <td>
                            <span class="table__price">$@item.Product?.Price.ToString("0.00")</span>
                        </td>
                        <td>
                            <input type="number" value="@item.Count" class="quantity" />
                        </td>
                        
                        <td><span class="subtotal">$@item.Product?.Price.ToString("0.00")</span></td>
                        <td>
                            <a asp-action="remove" asp-route-cartId="@item.Id">
                                <i class="fi fi-rs-trash table__trash"></i>
                            </a>
                        </td>
                    </tr>
                }

                <tr>
                    <td>
                        <img src="~/assets//img/product-7-1.jpg"
                             alt=""
                             class="table__img" />
                    </td>
                    <td>
                        <h3 class="table__title">Amazon Essentials Women's Tank</h3>
                        <p class="table__description">
                            Lorem ipsum dolor sit amet consectetur.
                        </p>
                    </td>
                    <td>
                        <span class="table__price">$110</span>
                    </td>
                    <td><input type="number" value="3" class="quantity" /></td>
                    <td><span class="subtotal">$220</span></td>
                    <td><i class="fi fi-rs-trash table__trash"></i></td>
                </tr>
                <tr>
                    <td>
                        <img src="~/assets//img/product-2-1.jpg"
                             alt=""
                             class="table__img" />
                    </td>
                    <td>
                        <h3 class="table__title">
                            Amazon Brand - Daily Ritual Women's Jersey
                        </h3>
                        <p class="table__description">
                            Lorem ipsum dolor sit amet consectetur.
                        </p>
                    </td>
                    <td>
                        <span class="table__price">$110</span>
                    </td>
                    <td><input type="number" value="3" class="quantity" /></td>
                    <td><span class="subtotal">$220</span></td>
                    <td><i class="fi fi-rs-trash table__trash"></i></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="cart__actions">
        <a href="#" class="btn flex btn__md">
            <i class="fi-rs-shuffle"></i> Update Cart
        </a>
        <a href="#" class="btn flex btn__md">
            <i class="fi-rs-shopping-bag"></i> Continue Shopping
        </a>
    </div>

    <div class="divider">
        <i class="fi fi-rs-fingerprint"></i>
    </div>

    <div class="cart__group grid">

        <div class="cart__total">
            <h3 class="section__title">Cart Totals</h3>
            <table class="cart__total-table">
                <tr>
                    <td><span class="cart__total-title">Cart Subtotal</span></td>
                    <td><span class="cart__total-price">@Model.OrderHeader.OrderTotal.ToString("c")</span></td>
                </tr>
                <tr>
                    <td><span class="cart__total-title">Shipping</span></td>
                    <td><span class="cart__total-price">Free</span></td>
                </tr>
                <tr>
                    <td><span class="cart__total-title">Total</span></td>
                    <td><span class="cart__total-price">@Model.OrderHeader.OrderTotal.ToString("c")</span></td>
                </tr>
            </table>
            <a asp-action="Summary" class="btn btn-success form-control"><i class="fi fi-rs-box-alt"></i>Checkout</a>

        </div>
    </div>
</section>

<!--=============== NEWSLETTER ===============-->
<section class="newsletter section">
    <div class="newsletter__container container grid">
        <h3 class="newsletter__title flex">
            <img src="./assets/img/icon-email.svg"
                 alt=""
                 class="newsletter__icon" />
            Sign in to Newsletter
        </h3>
        <p class="newsletter__description">
            ...and receive $25 coupon for first shopping.
        </p>
        <form action="" class="newsletter__form">
            <input type="text"
                   placeholder="Enter Your Email"
                   class="newsletter__input" />
            <button type="submit" class="newsletter__btn">Subscribe</button>
        </form>
    </div>
</section>
